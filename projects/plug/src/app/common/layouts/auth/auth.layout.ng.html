<mat-sidenav-container>
  <mat-sidenav #sidebar>
    <aside class="flex-col flex-shrink-0 md:flex size-full">
      <div class="flex items-center px-6 h-16 text-(--mat-sys-primary)">
        <span class="text-2xl icon-[material-symbols--school]" role="img" aria-hidden="true"></span>
        <span class="ml-3 text-lg font-bold">Plug</span>
      </div>
      <nav class="flex-1 py-4 px-4 space-y-2">
        <a
          class="flex gap-3 items-center py-2 px-4 text-sm font-medium rounded-md bg-primary-lighter text-primary dark:bg-primary/20 dark:text-primary-light"
          routerLink="/dashboard"
          (click)="sidebar.close()"
        >
          <span
            class="text-xl icon-[material-symbols--space-dashboard-outline]"
            role="img"
            aria-hidden="true"
          ></span>
          Dashboard
        </a>
        <a
          class="flex gap-3 items-center py-2 px-4 text-sm font-medium rounded-md hover:bg-gray-100 text-text-light dark:hover:bg-white/10 dark:text-text-dark"
          routerLink="/dashboard"
          (click)="sidebar.close()"
        >
          <span
            class="text-xl icon-[material-symbols--school-outline-rounded]"
            role="img"
            aria-hidden="true"
          ></span>
          My Courses
        </a>
        <a
          class="flex gap-3 items-center py-2 px-4 text-sm font-medium rounded-md hover:bg-gray-100 text-text-light dark:hover:bg-white/10 dark:text-text-dark"
          routerLink="/tutorials"
          (click)="sidebar.close()"
        >
          <span
            class="text-xl icon-[material-symbols--event-outline-rounded]"
            role="img"
            aria-hidden="true"
          ></span>
          Tutorial Sessions
        </a>
        <a
          class="flex gap-3 items-center py-2 px-4 text-sm font-medium rounded-md hover:bg-gray-100 text-text-light dark:hover:bg-white/10 dark:text-text-dark"
          routerLink="/past-questions"
          (click)="sidebar.close()"
        >
          <span
            class="text-xl icon-[material-symbols--description-outline-sharp]"
            role="img"
            aria-hidden="true"
          ></span>
          Past Questions
        </a>
        <a
          class="flex gap-3 items-center py-2 px-4 text-sm font-medium rounded-md animate-pulse hover:bg-gray-100 text-text-light dark:hover:bg-white/10"
          routerLink="/projects"
          (click)="sidebar.close()"
        >
          <span
            class="text-xl icon-[material-symbols--folder-shared-outline-rounded]"
            role="img"
            aria-hidden="true"
          ></span>
          <span matBadge="coming soon"> Project Resources </span>
        </a>
      </nav>
      <div class="p-4 border-t">
        <a
          class="flex gap-3 items-center py-2 px-4 text-sm font-medium rounded-md"
          routerLink="/settings"
          (click)="sidebar.close()"
          href="#"
        >
          <span
            class="icon-[material-symbols--settings-account-box-outline-sharp]"
            role="img"
            aria-hidden="true"
          ></span>
          Settings
        </a>
        <button class="flex gap-3 items-center py-2 px-4 text-sm font-medium rounded-md" matButton>
          <span
            class="icon-[material-symbols--logout-rounded]"
            role="img"
            aria-hidden="true"
          ></span>
          Logout
        </button>
      </div>
    </aside>
  </mat-sidenav>
  <mat-sidenav-content>
    <div class="flex overflow-hidden flex-col flex-1">
      <header
        class="flex relative flex-shrink-0 justify-between items-center px-6 h-16 border-b bg-(--mat-sys-surface-container-low) text-(--mat-sys-on-surface-container-low)"
      >
        <div class="flex items-center">
          <button class="mr-4" (click)="[sidebar.toggle()]">
            <span class="icon-[material-symbols--menu]" role="img" aria-hidden="true"></span>
          </button>
          <h2 class="text-xl font-semibold">
            @if (!!user()) {
              Welcome, {{ user()?.first_name }}
            } @else {
              Welcome
            }
          </h2>
        </div>
        <div class="flex gap-4 items-center">
          <button class="flex relative items-center">
            <span
              class="icon-[material-symbols--notifications-outline-rounded]"
              role="img"
              aria-hidden="true"
            ></span>

            <span class="flex absolute -top-1 -right-1 w-3 h-3">
              <span
                class="inline-flex absolute w-full h-full rounded-full opacity-75 animate-ping bg-accent"
              ></span>
              <span class="inline-flex relative w-3 h-3 rounded-full bg-accent"></span>
            </span>
          </button>
          <button [matMenuTriggerFor]="theme">
            <span
              class="text-sm not-dark:hidden icon-[line-md--moon-rising-alt-loop]"
              role="img"
              aria-hidden="true"
            ></span>
            <span
              class="dark:hidden icon-[line-md--sun-rising-twotone-loop]"
              role="img"
              aria-hidden="true"
            ></span>
            <mat-menu #theme="matMenu">
              <button type="button" class="flex gap-1 items-center" mat-menu-item>
                <span
                  class="icon-[line-md--sun-rising-twotone-loop]"
                  role="img"
                  aria-hidden="true"
                ></span>
                <span> light </span>
              </button>
              <button mat-menu-item type="button" class="">
                <span
                  class="icon-[line-md--moon-rising-alt-loop]"
                  role="img"
                  aria-hidden="true"
                ></span>
                <span>dark</span>
              </button>
            </mat-menu>
          </button>
          <img
            [matMenuTriggerFor]="userMenu"
            alt="User avatar"
            class="object-cover w-8 h-8 rounded-full cursor-pointer"
            src="https://lh3.googleusercontent.com/aida-public/AB6AXuAhqiQgXNS4ByJhwBvazoAx0T-M5euUEuasyHs8fEa5V-cJ2nSWZpiXX6XSKvMdziRsSCC7PXIFmQaxEBw7jcNG2RJtKmaeFPvhqdkv4Ko3ULeHkTJt_HBjo0HNEwHRGT_f4H-W2Xb8MTfi-KAWpGaO0V4MyZN0r8501rNbOxslV4W3q1J23jO4RcfgzvBgSFL7mUlhvVjwSQu5JvUn5nXTZSTgYQ_kvnogaKJLX7yybouWulwrS8fdtqWPCp9qt06NoDtR9BC_vNI5"
          />
          <mat-menu #userMenu="matMenu">
            <a routerLink="/settings" type="button" class="flex gap-1 items-center" mat-menu-item>
              Settings
            </a>
            <button type="button" class="flex gap-1 items-center" mat-menu-item (click)="logout()">
              Logout
            </button>
          </mat-menu>
        </div>
        @if (loading()) {
          <div class="absolute inset-x-0 bottom-0">
            <mat-progress-bar mode="indeterminate" />
          </div>
        }
      </header>
      <main class="flex-1 p-6 @container/page">
        <router-outlet />
      </main>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
